(* ::Package:: *)

$flexiblesusyDir         = "/home/bachi/Programme/FlexibleSUSY";
$flexiblesusyOutputDir   = FileNameJoin[{$flexiblesusyDir, "markus_tests"}];
$flexiblesusyConfigDir   = FileNameJoin[{$flexiblesusyDir, "config"}];
$flexiblesusyMetaDir     = FileNameJoin[{$flexiblesusyDir, "meta"}];
$flexiblesusyTemplateDir = FileNameJoin[{$flexiblesusyDir, "templates"}];
AppendTo[$Path, $flexiblesusyMetaDir];

Needs["SARAH`"];
Needs["FlexibleSUSY`", FileNameJoin[{$flexiblesusyMetaDir, "FlexibleSUSY.m"}]];

SARAH`SARAH[OutputDirectory] = FileNameJoin[{$flexiblesusyDir, "Output"}];
SARAH`SARAH[InputDirectories] = {
    FileNameJoin[{$flexiblesusyDir, "sarah"}],
    ToFileName[{$sarahDir, "Models"}]
};

Print["Let's start!"];

FlexibleSUSY`FSModelName = "CMSSM";
massMatrices={FSMassMatrix[{0},VG,Null],FSMassMatrix[{MassG},Glu,Null],FSMassMatrix[{0},Fv,Null],FSMassMatrix[{0},VP,Null],FSMassMatrix[{1/4 (vd^2+vu^2) (g2 Cos[ThetaW[]]+Sqrt[3/5] g1 Sin[ThetaW[]])^2},VZ,Null],FSMassMatrix[{{-(1/40) g1^2 vd^2-(g2^2 vd^2)/8+(g1^2 vu^2)/40+(g2^2 vu^2)/8+mq2[0,0]+1/2 vd^2 (conj[Yd[0,0]] Yd[0,0]+conj[Yd[1,0]] Yd[1,0]+conj[Yd[2,0]] Yd[2,0]),mq2[0,1]+1/2 vd^2 (conj[Yd[0,0]] Yd[0,1]+conj[Yd[1,0]] Yd[1,1]+conj[Yd[2,0]] Yd[2,1]),mq2[0,2]+1/2 vd^2 (conj[Yd[0,0]] Yd[0,2]+conj[Yd[1,0]] Yd[1,2]+conj[Yd[2,0]] Yd[2,2]),-((vu \[Mu] conj[Yd[0,0]])/Sqrt[2])+(vd conj[T[Yd][0,0]])/Sqrt[2],-((vu \[Mu] conj[Yd[1,0]])/Sqrt[2])+(vd conj[T[Yd][1,0]])/Sqrt[2],-((vu \[Mu] conj[Yd[2,0]])/Sqrt[2])+(vd conj[T[Yd][2,0]])/Sqrt[2]},{mq2[1,0]+1/2 vd^2 (conj[Yd[0,1]] Yd[0,0]+conj[Yd[1,1]] Yd[1,0]+conj[Yd[2,1]] Yd[2,0]),-(1/40) g1^2 vd^2-(g2^2 vd^2)/8+(g1^2 vu^2)/40+(g2^2 vu^2)/8+mq2[1,1]+1/2 vd^2 (conj[Yd[0,1]] Yd[0,1]+conj[Yd[1,1]] Yd[1,1]+conj[Yd[2,1]] Yd[2,1]),mq2[1,2]+1/2 vd^2 (conj[Yd[0,1]] Yd[0,2]+conj[Yd[1,1]] Yd[1,2]+conj[Yd[2,1]] Yd[2,2]),-((vu \[Mu] conj[Yd[0,1]])/Sqrt[2])+(vd conj[T[Yd][0,1]])/Sqrt[2],-((vu \[Mu] conj[Yd[1,1]])/Sqrt[2])+(vd conj[T[Yd][1,1]])/Sqrt[2],-((vu \[Mu] conj[Yd[2,1]])/Sqrt[2])+(vd conj[T[Yd][2,1]])/Sqrt[2]},{mq2[2,0]+1/2 vd^2 (conj[Yd[0,2]] Yd[0,0]+conj[Yd[1,2]] Yd[1,0]+conj[Yd[2,2]] Yd[2,0]),mq2[2,1]+1/2 vd^2 (conj[Yd[0,2]] Yd[0,1]+conj[Yd[1,2]] Yd[1,1]+conj[Yd[2,2]] Yd[2,1]),-(1/40) g1^2 vd^2-(g2^2 vd^2)/8+(g1^2 vu^2)/40+(g2^2 vu^2)/8+mq2[2,2]+1/2 vd^2 (conj[Yd[0,2]] Yd[0,2]+conj[Yd[1,2]] Yd[1,2]+conj[Yd[2,2]] Yd[2,2]),-((vu \[Mu] conj[Yd[0,2]])/Sqrt[2])+(vd conj[T[Yd][0,2]])/Sqrt[2],-((vu \[Mu] conj[Yd[1,2]])/Sqrt[2])+(vd conj[T[Yd][1,2]])/Sqrt[2],-((vu \[Mu] conj[Yd[2,2]])/Sqrt[2])+(vd conj[T[Yd][2,2]])/Sqrt[2]},{-((vu conj[\[Mu]] Yd[0,0])/Sqrt[2])+(vd T[Yd][0,0])/Sqrt[2],-((vu conj[\[Mu]] Yd[0,1])/Sqrt[2])+(vd T[Yd][0,1])/Sqrt[2],-((vu conj[\[Mu]] Yd[0,2])/Sqrt[2])+(vd T[Yd][0,2])/Sqrt[2],-(1/20) g1^2 vd^2+(g1^2 vu^2)/20+md2[0,0]+1/2 vd^2 (conj[Yd[0,0]] Yd[0,0]+conj[Yd[0,1]] Yd[0,1]+conj[Yd[0,2]] Yd[0,2]),md2[0,1]+1/2 vd^2 (conj[Yd[1,0]] Yd[0,0]+conj[Yd[1,1]] Yd[0,1]+conj[Yd[1,2]] Yd[0,2]),md2[0,2]+1/2 vd^2 (conj[Yd[2,0]] Yd[0,0]+conj[Yd[2,1]] Yd[0,1]+conj[Yd[2,2]] Yd[0,2])},{-((vu conj[\[Mu]] Yd[1,0])/Sqrt[2])+(vd T[Yd][1,0])/Sqrt[2],-((vu conj[\[Mu]] Yd[1,1])/Sqrt[2])+(vd T[Yd][1,1])/Sqrt[2],-((vu conj[\[Mu]] Yd[1,2])/Sqrt[2])+(vd T[Yd][1,2])/Sqrt[2],md2[1,0]+1/2 vd^2 (conj[Yd[0,0]] Yd[1,0]+conj[Yd[0,1]] Yd[1,1]+conj[Yd[0,2]] Yd[1,2]),-(1/20) g1^2 vd^2+(g1^2 vu^2)/20+md2[1,1]+1/2 vd^2 (conj[Yd[1,0]] Yd[1,0]+conj[Yd[1,1]] Yd[1,1]+conj[Yd[1,2]] Yd[1,2]),md2[1,2]+1/2 vd^2 (conj[Yd[2,0]] Yd[1,0]+conj[Yd[2,1]] Yd[1,1]+conj[Yd[2,2]] Yd[1,2])},{-((vu conj[\[Mu]] Yd[2,0])/Sqrt[2])+(vd T[Yd][2,0])/Sqrt[2],-((vu conj[\[Mu]] Yd[2,1])/Sqrt[2])+(vd T[Yd][2,1])/Sqrt[2],-((vu conj[\[Mu]] Yd[2,2])/Sqrt[2])+(vd T[Yd][2,2])/Sqrt[2],md2[2,0]+1/2 vd^2 (conj[Yd[0,0]] Yd[2,0]+conj[Yd[0,1]] Yd[2,1]+conj[Yd[0,2]] Yd[2,2]),md2[2,1]+1/2 vd^2 (conj[Yd[1,0]] Yd[2,0]+conj[Yd[1,1]] Yd[2,1]+conj[Yd[1,2]] Yd[2,2]),-(1/20) g1^2 vd^2+(g1^2 vu^2)/20+md2[2,2]+1/2 vd^2 (conj[Yd[2,0]] Yd[2,0]+conj[Yd[2,1]] Yd[2,1]+conj[Yd[2,2]] Yd[2,2])}},Sd,ZD],FSMassMatrix[{{(3 g1^2 vd^2)/40+(g2^2 vd^2)/8-(3 g1^2 vu^2)/40-(g2^2 vu^2)/8+ml2[0,0],ml2[0,1],ml2[0,2]},{ml2[1,0],(3 g1^2 vd^2)/40+(g2^2 vd^2)/8-(3 g1^2 vu^2)/40-(g2^2 vu^2)/8+ml2[1,1],ml2[1,2]},{ml2[2,0],ml2[2,1],(3 g1^2 vd^2)/40+(g2^2 vd^2)/8-(3 g1^2 vu^2)/40-(g2^2 vu^2)/8+ml2[2,2]}},Sv,ZV],FSMassMatrix[{{-(1/40) g1^2 vd^2+(g2^2 vd^2)/8+(g1^2 vu^2)/40-(g2^2 vu^2)/8+mq2[0,0]+1/2 vu^2 (conj[Yu[0,0]] Yu[0,0]+conj[Yu[1,0]] Yu[1,0]+conj[Yu[2,0]] Yu[2,0]),mq2[0,1]+1/2 vu^2 (conj[Yu[0,0]] Yu[0,1]+conj[Yu[1,0]] Yu[1,1]+conj[Yu[2,0]] Yu[2,1]),mq2[0,2]+1/2 vu^2 (conj[Yu[0,0]] Yu[0,2]+conj[Yu[1,0]] Yu[1,2]+conj[Yu[2,0]] Yu[2,2]),-((vd \[Mu] conj[Yu[0,0]])/Sqrt[2])+(vu conj[T[Yu][0,0]])/Sqrt[2],-((vd \[Mu] conj[Yu[1,0]])/Sqrt[2])+(vu conj[T[Yu][1,0]])/Sqrt[2],-((vd \[Mu] conj[Yu[2,0]])/Sqrt[2])+(vu conj[T[Yu][2,0]])/Sqrt[2]},{mq2[1,0]+1/2 vu^2 (conj[Yu[0,1]] Yu[0,0]+conj[Yu[1,1]] Yu[1,0]+conj[Yu[2,1]] Yu[2,0]),-(1/40) g1^2 vd^2+(g2^2 vd^2)/8+(g1^2 vu^2)/40-(g2^2 vu^2)/8+mq2[1,1]+1/2 vu^2 (conj[Yu[0,1]] Yu[0,1]+conj[Yu[1,1]] Yu[1,1]+conj[Yu[2,1]] Yu[2,1]),mq2[1,2]+1/2 vu^2 (conj[Yu[0,1]] Yu[0,2]+conj[Yu[1,1]] Yu[1,2]+conj[Yu[2,1]] Yu[2,2]),-((vd \[Mu] conj[Yu[0,1]])/Sqrt[2])+(vu conj[T[Yu][0,1]])/Sqrt[2],-((vd \[Mu] conj[Yu[1,1]])/Sqrt[2])+(vu conj[T[Yu][1,1]])/Sqrt[2],-((vd \[Mu] conj[Yu[2,1]])/Sqrt[2])+(vu conj[T[Yu][2,1]])/Sqrt[2]},{mq2[2,0]+1/2 vu^2 (conj[Yu[0,2]] Yu[0,0]+conj[Yu[1,2]] Yu[1,0]+conj[Yu[2,2]] Yu[2,0]),mq2[2,1]+1/2 vu^2 (conj[Yu[0,2]] Yu[0,1]+conj[Yu[1,2]] Yu[1,1]+conj[Yu[2,2]] Yu[2,1]),-(1/40) g1^2 vd^2+(g2^2 vd^2)/8+(g1^2 vu^2)/40-(g2^2 vu^2)/8+mq2[2,2]+1/2 vu^2 (conj[Yu[0,2]] Yu[0,2]+conj[Yu[1,2]] Yu[1,2]+conj[Yu[2,2]] Yu[2,2]),-((vd \[Mu] conj[Yu[0,2]])/Sqrt[2])+(vu conj[T[Yu][0,2]])/Sqrt[2],-((vd \[Mu] conj[Yu[1,2]])/Sqrt[2])+(vu conj[T[Yu][1,2]])/Sqrt[2],-((vd \[Mu] conj[Yu[2,2]])/Sqrt[2])+(vu conj[T[Yu][2,2]])/Sqrt[2]},{-((vd conj[\[Mu]] Yu[0,0])/Sqrt[2])+(vu T[Yu][0,0])/Sqrt[2],-((vd conj[\[Mu]] Yu[0,1])/Sqrt[2])+(vu T[Yu][0,1])/Sqrt[2],-((vd conj[\[Mu]] Yu[0,2])/Sqrt[2])+(vu T[Yu][0,2])/Sqrt[2],(g1^2 vd^2)/10-(g1^2 vu^2)/10+mu2[0,0]+1/2 vu^2 (conj[Yu[0,0]] Yu[0,0]+conj[Yu[0,1]] Yu[0,1]+conj[Yu[0,2]] Yu[0,2]),mu2[0,1]+1/2 vu^2 (conj[Yu[1,0]] Yu[0,0]+conj[Yu[1,1]] Yu[0,1]+conj[Yu[1,2]] Yu[0,2]),mu2[0,2]+1/2 vu^2 (conj[Yu[2,0]] Yu[0,0]+conj[Yu[2,1]] Yu[0,1]+conj[Yu[2,2]] Yu[0,2])},{-((vd conj[\[Mu]] Yu[1,0])/Sqrt[2])+(vu T[Yu][1,0])/Sqrt[2],-((vd conj[\[Mu]] Yu[1,1])/Sqrt[2])+(vu T[Yu][1,1])/Sqrt[2],-((vd conj[\[Mu]] Yu[1,2])/Sqrt[2])+(vu T[Yu][1,2])/Sqrt[2],mu2[1,0]+1/2 vu^2 (conj[Yu[0,0]] Yu[1,0]+conj[Yu[0,1]] Yu[1,1]+conj[Yu[0,2]] Yu[1,2]),(g1^2 vd^2)/10-(g1^2 vu^2)/10+mu2[1,1]+1/2 vu^2 (conj[Yu[1,0]] Yu[1,0]+conj[Yu[1,1]] Yu[1,1]+conj[Yu[1,2]] Yu[1,2]),mu2[1,2]+1/2 vu^2 (conj[Yu[2,0]] Yu[1,0]+conj[Yu[2,1]] Yu[1,1]+conj[Yu[2,2]] Yu[1,2])},{-((vd conj[\[Mu]] Yu[2,0])/Sqrt[2])+(vu T[Yu][2,0])/Sqrt[2],-((vd conj[\[Mu]] Yu[2,1])/Sqrt[2])+(vu T[Yu][2,1])/Sqrt[2],-((vd conj[\[Mu]] Yu[2,2])/Sqrt[2])+(vu T[Yu][2,2])/Sqrt[2],mu2[2,0]+1/2 vu^2 (conj[Yu[0,0]] Yu[2,0]+conj[Yu[0,1]] Yu[2,1]+conj[Yu[0,2]] Yu[2,2]),mu2[2,1]+1/2 vu^2 (conj[Yu[1,0]] Yu[2,0]+conj[Yu[1,1]] Yu[2,1]+conj[Yu[1,2]] Yu[2,2]),(g1^2 vd^2)/10-(g1^2 vu^2)/10+mu2[2,2]+1/2 vu^2 (conj[Yu[2,0]] Yu[2,0]+conj[Yu[2,1]] Yu[2,1]+conj[Yu[2,2]] Yu[2,2])}},Su,ZU],FSMassMatrix[{{(3 g1^2 vd^2)/40-(g2^2 vd^2)/8-(3 g1^2 vu^2)/40+(g2^2 vu^2)/8+ml2[0,0]+1/2 vd^2 (conj[Ye[0,0]] Ye[0,0]+conj[Ye[1,0]] Ye[1,0]+conj[Ye[2,0]] Ye[2,0]),ml2[0,1]+1/2 vd^2 (conj[Ye[0,0]] Ye[0,1]+conj[Ye[1,0]] Ye[1,1]+conj[Ye[2,0]] Ye[2,1]),ml2[0,2]+1/2 vd^2 (conj[Ye[0,0]] Ye[0,2]+conj[Ye[1,0]] Ye[1,2]+conj[Ye[2,0]] Ye[2,2]),-((vu \[Mu] conj[Ye[0,0]])/Sqrt[2])+(vd conj[T[Ye][0,0]])/Sqrt[2],-((vu \[Mu] conj[Ye[1,0]])/Sqrt[2])+(vd conj[T[Ye][1,0]])/Sqrt[2],-((vu \[Mu] conj[Ye[2,0]])/Sqrt[2])+(vd conj[T[Ye][2,0]])/Sqrt[2]},{ml2[1,0]+1/2 vd^2 (conj[Ye[0,1]] Ye[0,0]+conj[Ye[1,1]] Ye[1,0]+conj[Ye[2,1]] Ye[2,0]),(3 g1^2 vd^2)/40-(g2^2 vd^2)/8-(3 g1^2 vu^2)/40+(g2^2 vu^2)/8+ml2[1,1]+1/2 vd^2 (conj[Ye[0,1]] Ye[0,1]+conj[Ye[1,1]] Ye[1,1]+conj[Ye[2,1]] Ye[2,1]),ml2[1,2]+1/2 vd^2 (conj[Ye[0,1]] Ye[0,2]+conj[Ye[1,1]] Ye[1,2]+conj[Ye[2,1]] Ye[2,2]),-((vu \[Mu] conj[Ye[0,1]])/Sqrt[2])+(vd conj[T[Ye][0,1]])/Sqrt[2],-((vu \[Mu] conj[Ye[1,1]])/Sqrt[2])+(vd conj[T[Ye][1,1]])/Sqrt[2],-((vu \[Mu] conj[Ye[2,1]])/Sqrt[2])+(vd conj[T[Ye][2,1]])/Sqrt[2]},{ml2[2,0]+1/2 vd^2 (conj[Ye[0,2]] Ye[0,0]+conj[Ye[1,2]] Ye[1,0]+conj[Ye[2,2]] Ye[2,0]),ml2[2,1]+1/2 vd^2 (conj[Ye[0,2]] Ye[0,1]+conj[Ye[1,2]] Ye[1,1]+conj[Ye[2,2]] Ye[2,1]),(3 g1^2 vd^2)/40-(g2^2 vd^2)/8-(3 g1^2 vu^2)/40+(g2^2 vu^2)/8+ml2[2,2]+1/2 vd^2 (conj[Ye[0,2]] Ye[0,2]+conj[Ye[1,2]] Ye[1,2]+conj[Ye[2,2]] Ye[2,2]),-((vu \[Mu] conj[Ye[0,2]])/Sqrt[2])+(vd conj[T[Ye][0,2]])/Sqrt[2],-((vu \[Mu] conj[Ye[1,2]])/Sqrt[2])+(vd conj[T[Ye][1,2]])/Sqrt[2],-((vu \[Mu] conj[Ye[2,2]])/Sqrt[2])+(vd conj[T[Ye][2,2]])/Sqrt[2]},{-((vu conj[\[Mu]] Ye[0,0])/Sqrt[2])+(vd T[Ye][0,0])/Sqrt[2],-((vu conj[\[Mu]] Ye[0,1])/Sqrt[2])+(vd T[Ye][0,1])/Sqrt[2],-((vu conj[\[Mu]] Ye[0,2])/Sqrt[2])+(vd T[Ye][0,2])/Sqrt[2],-(3/20) g1^2 vd^2+(3 g1^2 vu^2)/20+me2[0,0]+1/2 vd^2 (conj[Ye[0,0]] Ye[0,0]+conj[Ye[0,1]] Ye[0,1]+conj[Ye[0,2]] Ye[0,2]),me2[0,1]+1/2 vd^2 (conj[Ye[1,0]] Ye[0,0]+conj[Ye[1,1]] Ye[0,1]+conj[Ye[1,2]] Ye[0,2]),me2[0,2]+1/2 vd^2 (conj[Ye[2,0]] Ye[0,0]+conj[Ye[2,1]] Ye[0,1]+conj[Ye[2,2]] Ye[0,2])},{-((vu conj[\[Mu]] Ye[1,0])/Sqrt[2])+(vd T[Ye][1,0])/Sqrt[2],-((vu conj[\[Mu]] Ye[1,1])/Sqrt[2])+(vd T[Ye][1,1])/Sqrt[2],-((vu conj[\[Mu]] Ye[1,2])/Sqrt[2])+(vd T[Ye][1,2])/Sqrt[2],me2[1,0]+1/2 vd^2 (conj[Ye[0,0]] Ye[1,0]+conj[Ye[0,1]] Ye[1,1]+conj[Ye[0,2]] Ye[1,2]),-(3/20) g1^2 vd^2+(3 g1^2 vu^2)/20+me2[1,1]+1/2 vd^2 (conj[Ye[1,0]] Ye[1,0]+conj[Ye[1,1]] Ye[1,1]+conj[Ye[1,2]] Ye[1,2]),me2[1,2]+1/2 vd^2 (conj[Ye[2,0]] Ye[1,0]+conj[Ye[2,1]] Ye[1,1]+conj[Ye[2,2]] Ye[1,2])},{-((vu conj[\[Mu]] Ye[2,0])/Sqrt[2])+(vd T[Ye][2,0])/Sqrt[2],-((vu conj[\[Mu]] Ye[2,1])/Sqrt[2])+(vd T[Ye][2,1])/Sqrt[2],-((vu conj[\[Mu]] Ye[2,2])/Sqrt[2])+(vd T[Ye][2,2])/Sqrt[2],me2[2,0]+1/2 vd^2 (conj[Ye[0,0]] Ye[2,0]+conj[Ye[0,1]] Ye[2,1]+conj[Ye[0,2]] Ye[2,2]),me2[2,1]+1/2 vd^2 (conj[Ye[1,0]] Ye[2,0]+conj[Ye[1,1]] Ye[2,1]+conj[Ye[1,2]] Ye[2,2]),-(3/20) g1^2 vd^2+(3 g1^2 vu^2)/20+me2[2,2]+1/2 vd^2 (conj[Ye[2,0]] Ye[2,0]+conj[Ye[2,1]] Ye[2,1]+conj[Ye[2,2]] Ye[2,2])}},Se,ZE],FSMassMatrix[{{mHd2+(9 g1^2 vd^2)/40+(3 g2^2 vd^2)/8-(3 g1^2 vu^2)/40-(g2^2 vu^2)/8+\[Mu] conj[\[Mu]],-(3/20) g1^2 vd vu-1/4 g2^2 vd vu-B[\[Mu]]/2-1/2 conj[B[\[Mu]]]},{-(3/20) g1^2 vd vu-1/4 g2^2 vd vu-B[\[Mu]]/2-1/2 conj[B[\[Mu]]],mHu2-(3 g1^2 vd^2)/40-(g2^2 vd^2)/8+(9 g1^2 vu^2)/40+(3 g2^2 vu^2)/8+\[Mu] conj[\[Mu]]}},hh,ZH],FSMassMatrix[{{mHd2+(3 g1^2 vd^2)/40+(g2^2 vd^2)/8-(3 g1^2 vu^2)/40-(g2^2 vu^2)/8+\[Mu] conj[\[Mu]]+1/4 g2^2 vd^2 Cos[ThetaW[]]^2+1/2 Sqrt[3/5] g1 g2 vd^2 Cos[ThetaW[]] Sin[ThetaW[]]+3/20 g1^2 vd^2 Sin[ThetaW[]]^2,B[\[Mu]]/2+1/2 conj[B[\[Mu]]]-1/4 g2^2 vd vu Cos[ThetaW[]]^2-1/2 Sqrt[3/5] g1 g2 vd vu Cos[ThetaW[]] Sin[ThetaW[]]-3/20 g1^2 vd vu Sin[ThetaW[]]^2},{B[\[Mu]]/2+1/2 conj[B[\[Mu]]]-1/4 g2^2 vd vu Cos[ThetaW[]]^2-1/2 Sqrt[3/5] g1 g2 vd vu Cos[ThetaW[]] Sin[ThetaW[]]-3/20 g1^2 vd vu Sin[ThetaW[]]^2,mHu2-(3 g1^2 vd^2)/40-(g2^2 vd^2)/8+(3 g1^2 vu^2)/40+(g2^2 vu^2)/8+\[Mu] conj[\[Mu]]+1/4 g2^2 vu^2 Cos[ThetaW[]]^2+1/2 Sqrt[3/5] g1 g2 vu^2 Cos[ThetaW[]] Sin[ThetaW[]]+3/20 g1^2 vu^2 Sin[ThetaW[]]^2}},Ah,ZA],FSMassMatrix[{{mHd2+(3 g1^2 vd^2)/40+(3 g2^2 vd^2)/8-(3 g1^2 vu^2)/40+(g2^2 vu^2)/8+\[Mu] conj[\[Mu]],conj[B[\[Mu]]]},{B[\[Mu]],mHu2-(3 g1^2 vd^2)/40+(g2^2 vd^2)/8+(3 g1^2 vu^2)/40+(3 g2^2 vu^2)/8+\[Mu] conj[\[Mu]]}},Hpm,ZP],FSMassMatrix[{{MassB,0,-(1/2) Sqrt[3/5] g1 vd,1/2 Sqrt[3/5] g1 vu},{0,MassWB,(g2 vd)/2,-((g2 vu)/2)},{-(1/2) Sqrt[3/5] g1 vd,(g2 vd)/2,0,-\[Mu]},{1/2 Sqrt[3/5] g1 vu,-((g2 vu)/2),-\[Mu],0}},Chi,ZN],FSMassMatrix[{{MassWB,(g2 vu)/Sqrt[2]},{(g2 vd)/Sqrt[2],\[Mu]}},Cha,{UM,UP}],FSMassMatrix[{{(vd Ye[0,0])/Sqrt[2],(vd Ye[1,0])/Sqrt[2],(vd Ye[2,0])/Sqrt[2]},{(vd Ye[0,1])/Sqrt[2],(vd Ye[1,1])/Sqrt[2],(vd Ye[2,1])/Sqrt[2]},{(vd Ye[0,2])/Sqrt[2],(vd Ye[1,2])/Sqrt[2],(vd Ye[2,2])/Sqrt[2]}},Fe,{ZEL,ZER}],FSMassMatrix[{{(vd Yd[0,0])/Sqrt[2],(vd Yd[1,0])/Sqrt[2],(vd Yd[2,0])/Sqrt[2]},{(vd Yd[0,1])/Sqrt[2],(vd Yd[1,1])/Sqrt[2],(vd Yd[2,1])/Sqrt[2]},{(vd Yd[0,2])/Sqrt[2],(vd Yd[1,2])/Sqrt[2],(vd Yd[2,2])/Sqrt[2]}},Fd,{ZDL,ZDR}],FSMassMatrix[{{(vu Yu[0,0])/Sqrt[2],(vu Yu[1,0])/Sqrt[2],(vu Yu[2,0])/Sqrt[2]},{(vu Yu[0,1])/Sqrt[2],(vu Yu[1,1])/Sqrt[2],(vu Yu[2,1])/Sqrt[2]},{(vu Yu[0,2])/Sqrt[2],(vu Yu[1,2])/Sqrt[2],(vu Yu[2,2])/Sqrt[2]}},Fu,{ZUL,ZUR}],FSMassMatrix[{1/4 g2^2 (vd^2+vu^2)},VWm,Null]};

Start["MSSM"];

FlexibleSUSY`Private`WriteWeinbergAngleClass[massMatrices,
               {{FileNameJoin[{Global`$flexiblesusyTemplateDir, "weinberg_angle.hpp.in"}],
                 FileNameJoin[{Global`$flexiblesusyOutputDir, FlexibleSUSY`FSModelName <> "_weinberg_angle.hpp"}]},
                {FileNameJoin[{Global`$flexiblesusyTemplateDir, "weinberg_angle.cpp.in"}],
                 FileNameJoin[{Global`$flexiblesusyOutputDir, FlexibleSUSY`FSModelName <> "_weinberg_angle.cpp"}]}
               }
                                      ];

Print["Work done!"];
