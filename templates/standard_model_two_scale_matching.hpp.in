// ====================================================================
// This file is part of FlexibleSUSY.
//
// FlexibleSUSY is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published
// by the Free Software Foundation, either version 3 of the License,
// or (at your option) any later version.
//
// FlexibleSUSY is distributed in the hope that it will be useful, but
// WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
// General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with FlexibleSUSY.  If not, see
// <http://www.gnu.org/licenses/>.
// ====================================================================

#ifndef @ModelName@_TWO_SCALE_MATCHING_H
#define @ModelName@_TWO_SCALE_MATCHING_H

#include "two_scale_matching.hpp"

namespace flexiblesusy {

class Two_scale;
class Two_scale_model;

template <class T> class Constraint;
template <class T> class @ModelName@;
template <class T> class @ModelName@_standard_model_Matching_up;
template <class T> class @ModelName@_standard_model_Matching_down;

namespace standard_model {
template <class T> class StandardModel;
}

template<>
class @ModelName@_standard_model_Matching_up<Two_scale> : public Matching<Two_scale>
{
public:
   @ModelName@_standard_model_Matching_up();

   @ModelName@_standard_model_Matching_up(standard_model::StandardModel<Two_scale>*,
                                          @ModelName@<Two_scale>*,
                                          Constraint<Two_scale>*,
                                          unsigned, unsigned);

   virtual ~@ModelName@_standard_model_Matching_up();

   virtual double get_scale() const override;
   virtual void set_models(Two_scale_model*, Two_scale_model*) override;
   virtual void match() override;

   unsigned get_higgs_index() const;
   unsigned get_loop_order() const;
   void set_higgs_index(unsigned);
   void set_loop_order(unsigned);
   void set_scale(double);
   void set_constraint(Constraint<Two_scale>*);
   void match_tree_level();

private:
   @ModelName@<Two_scale>* model;
   standard_model::StandardModel<Two_scale>* eft;
   Constraint<Two_scale>* constraint;
   double scale;
   unsigned loop_order;
   unsigned higgs_idx; ///< Higgs index
};

template<>
class @ModelName@_standard_model_Matching_down<Two_scale> : public Matching<Two_scale>
{
public:
   @ModelName@_standard_model_Matching_down();

   @ModelName@_standard_model_Matching_down(standard_model::StandardModel<Two_scale>*,
                                            @ModelName@<Two_scale>*,
                                            Constraint<Two_scale>*,
                                            unsigned, unsigned);

   virtual ~@ModelName@_standard_model_Matching_down();

   virtual double get_scale() const override;
   virtual void set_models(Two_scale_model*, Two_scale_model*) override;
   virtual void match() override;

   unsigned get_higgs_index() const;
   unsigned get_loop_order() const;
   void set_higgs_index(unsigned);
   void set_loop_order(unsigned);
   void set_scale(double);
   void set_constraint(Constraint<Two_scale>*);
   void match_tree_level();

private:
   @ModelName@<Two_scale>* model;
   standard_model::StandardModel<Two_scale>* eft;
   Constraint<Two_scale>* constraint;
   double scale;
   unsigned loop_order;
   unsigned higgs_idx; ///< Higgs index
};

} // namespace flexiblesusy

#endif
